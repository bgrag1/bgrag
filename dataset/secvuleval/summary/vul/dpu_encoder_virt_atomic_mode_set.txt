 Function purpose: The function sets up and configures a virtual display encoder for a display pipeline, including assigning physical resources and configuring the encoder's modes based on the current state of the display and connected devices.