 Function purpose: The function "did_set_comments" in the provided code snippet is designed to validate and process comments by checking for illegal characters and ensuring proper formatting, particularly in relation to the use of colons and commas.