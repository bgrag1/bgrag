 Function purpose: The function converts a JSON object or array into a human-readable, pretty-printed format using the provided flags and allocation functions.