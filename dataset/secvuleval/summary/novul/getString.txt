 Function purpose: The function retrieves a string from a DICOM dataset based on a specified tag, ensuring it fits within a specified maximum length and optionally checks if the string is space-padded.